{"version":3,"sources":["../src/app.js"],"names":["port_number","process","env","PORT","app","server","http","createServer","use","bodyParser","json","express","static","path","join","__dirname","corsOption","origin","methods","credentials","exposedHeaders","req","res","next","header","routes","get","fileName","resolve","console","log","sendFile","listen"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACA;;AAEA,IAAIA,cAAcC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAAtC;AACA,IAAIC,MAAM,wBAAV;;AAEAA,IAAIC,MAAJ,GAAaC,eAAKC,YAAL,CAAkBH,GAAlB,CAAb;AACAA,IAAII,GAAJ,CAAQC,qBAAWC,IAAX,EAAR;AACAN,IAAII,GAAJ,CAAQG,kBAAQC,MAAR,CAAeC,eAAKC,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,cAA3B,CAAf,CAAR;;AAEA;;AAEA,IAAIC,aAAa;AACbC,YAAQ,IADK;AAEbC,aAAS,gCAFI;AAGbC,iBAAa,IAHA;AAIbC,oBAAgB,CAAC,cAAD;AAJH,CAAjB;AAMAhB,IAAII,GAAJ,CAAQ,oBAAKQ,UAAL,CAAR;;AAEAZ,IAAII,GAAJ,CAAQ,UAASa,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC7BD,QAAIE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,QAAIE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C;AACAF,QAAIE,MAAJ,CAAW,8BAAX,EAA2C,iCAA3C;;AAEAD;AACH,CAND;;AAQAnB,IAAII,GAAJ,CAAQ,MAAR,EAAgBiB,gBAAhB;AACArB,IAAIsB,GAAJ,CAAQ,OAAR,EAAiB,UAAUL,GAAV,EAAeC,GAAf,EAAoB;AACjC,QAAIK,WAAWd,eAAKe,OAAL,CAAab,YAAY,4BAAzB,CAAf;AACAY,eAAWd,eAAKC,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,yBAA3B,CAAX;AACAc,YAAQC,GAAR,CAAY,aAAZ,EAA2Bf,SAA3B;AACAc,YAAQC,GAAR,CAAYH,QAAZ;AACAL,QAAIS,QAAJ,CAAaJ,QAAb;AACH,CAND;;AAQAvB,IAAI4B,MAAJ,CAAWhC,WAAX,EAAwB,YAAM;AAC1B6B,YAAQC,GAAR,CAAY,4BAA4B9B,WAAxC;AACH,CAFD","file":"app.js","sourcesContent":["import express from 'express';\r\nimport http from 'http';\r\nimport routes from './routes';\r\nimport bodyParser from 'body-parser';\r\nimport path from 'path';\r\nimport cors from 'cors';\r\n// import passport from 'passport';\r\n\r\nlet port_number = process.env.PORT || 3001;\r\nlet app = express();\r\n\r\napp.server = http.createServer(app);\r\napp.use(bodyParser.json());\r\napp.use(express.static(path.join(__dirname, '..', 'client/build')));\r\n\r\n// app.use(passport.initialize());\r\n\r\nvar corsOption = {\r\n    origin: true,\r\n    methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',\r\n    credentials: true,\r\n    exposedHeaders: ['x-auth-token']\r\n};\r\napp.use(cors(corsOption));\r\n\r\napp.use(function(req, res, next) {\r\n    res.header(\"Access-Control-Allow-Origin\", \"*\");\r\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\r\n    res.header('Access-Control-Allow-Methods', 'PUT, POST, GET, DELETE, OPTIONS');\r\n\r\n    next();\r\n});\r\n\r\napp.use('/api', routes);\r\napp.get('/home', function (req, res) {\r\n    let fileName = path.resolve(__dirname + '../client/build/index.html');\r\n    fileName = path.join(__dirname, '..', 'client/build/index.html');\r\n    console.log('__dirname: ', __dirname);\r\n    console.log(fileName);\r\n    res.sendFile(fileName);\r\n});\r\n\r\napp.listen(port_number, () => {\r\n    console.log('NodeJs API runnning on ' + port_number);\r\n})"]}